!function(t,n){"use strict";function e(t){var n=String(t).replace(g,"").split(m);return n}function r(t){var n=this.$callbacks||(this.$callbacks={});return t?n[t]||(n[t]=[]):n}function s(t){if(!t.name)throw new Error("Missing event name");var n=r.call(this,t.name);return delete t.name,n.push(t),t}function i(t,r,s,i){if(!t||!r||"function"!=typeof r)return[];for(var a,c,u=e(t),l=[];;){if(a=u.shift(),a===n)break;c={name:a,callback:r,context:s||null,params:i},l.push(c)}return l}function a(t){return t.length>3?v.call(t,3):!1}function c(t,e,r){for(var c,u=a(arguments),l=i(t,e,r,u);;){if(c=l.shift(),c===n)break;s.call(this,c)}return function(){this.removeListeners(t,e,r)}}function u(t,e,r){for(var c,u=a(arguments),l=i(t,e,r,u);;){if(c=l.shift(),c===n)break;c.once=!0,s.call(this,c)}return function(){this.removeListeners(t,e,r)}}function l(t,e,s){if(!e)return this.removeAllListenersOfName(t);var i,a=r.call(this,t),c=[],u=0,l=a.length;for(s===n&&(s=null);l>u;u++)i=a[u],(e!==i.callback||null!==s&&s!==i.context)&&c.push(a[u]);return this.$callbacks[t]=c,!0}function o(t,r,s){if(!t&&!r)return delete this.$callbacks,this;for(var i,a=e(t),c=!0;;){if(i=a.shift(),i===n)break;c=c&&l.call(this,i,r,s)}return c}function f(t,n){var e,s,i=r.call(this,t),a=i.length,c=n.length,u=!0,l=0;if(0===a)return!0;for(;a>l&&(e=i[l],s=[],e.params!==!1&&(s=s.concat(e.params)),0!==c&&(s=s.concat(n)),e.once&&i.splice(l,1),u=e.callback.apply(e.context,s),u!==!1);l++);return u}function h(t){if(this.pauseEvents)return this;for(var r,s=e(t),i=!0,a=arguments.length>1?v.call(arguments,1):[];;){if(r=s.shift(),r===n)break;i=i&&f.call(this,r,a)}return!!i}var p=function(){},v=Array.prototype.slice,m=/\s+|,\s?/,g=/^\s+|\s+$/g;return p.prototype={constructor:p,pauseEvents:!1,getListeners:function(){r.apply(this,arguments)},clearListeners:o,on:c,off:o,emit:h,once:u,suspendEvents:function(){return this.pauseEvents=!0,this},resumeEvents:function(){return this.pauseEvents=!1,this}},t.EventEmitter=p}("undefined"!=typeof exports?exports:this);